<div id="new-paginator">
{% if page_obj.has_previous %}
	<a class="page-link" href="?page={{ page_obj.previous_page_number }}">&larr;</a>
		{% ifnotequal page_obj.previous_page_number 1 %}
			{% ifequal page_obj.number paginator.num_pages%}
						{% ifnotequal page_obj.previous_page_number|add:"-1" 1 %}
							{% ifnotequal page_obj.previous_page_number|add:"-2" 1 %}
					   			<a class="page-link" href="?page={{ page_obj.previous_page_number|add:"-3" }}">
					   			{{ page_obj.previous_page_number|add:"-3" }}</a>
				   			{% endifnotequal %}
				   			<a class="page-link" href="?page={{ page_obj.previous_page_number|add:"-2" }}">
		   					{{ page_obj.previous_page_number|add:"-2" }}</a>
			   			{% endifnotequal %}
			{% else %}
			   	{% ifequal page_obj.next_page_number paginator.num_pages%}
			   		{% ifnotequal page_obj.previous_page_number|add:"-1" 1 %}
			   			<a class="page-link" href="?page={{ page_obj.previous_page_number|add:"-2" }}">
			   			{{ page_obj.previous_page_number|add:"-2" }}</a>
			   			
			   		{% endifnotequal %}
		   		{% endifequal %}
		   	{% endifequal %}
		   	<a class="page-link" href="?page={{ page_obj.previous_page_number|add:"-1" }}">
		   	{{ page_obj.previous_page_number|add:"-1" }}</a>
		{% endifnotequal %}
	   	<a class="page-link" href="?page={{ page_obj.previous_page_number }}">
		{{ page_obj.previous_page_number }}</a>
	{% endif%}
    <span class="page-link" id="current-page">
    {{ page_obj.number }}
    </span>
    {% if page_obj.has_next %}
    	<a class="page-link" href="?page={{ page_obj.next_page_number }}">
		{{ page_obj.next_page_number }}</a>
		{% ifnotequal page_obj.next_page_number paginator.num_pages %}
			<a class="page-link" href="?page={{ page_obj.next_page_number|add:"1" }}">
		   	{{ page_obj.next_page_number|add:"1" }}</a>
				{% ifequal page_obj.previous_page_number 1 %}
					{% ifnotequal page_obj.next_page_number|add:"1" paginator.num_pages %}
			   			<a class="page-link" href="?page={{ page_obj.next_page_number|add:"2" }}">
			   			{{ page_obj.next_page_number|add:"2" }}</a>
		   			{% endifnotequal %}
		   			
		   		{% else %}
					{% ifequal page_obj.number 1%}
						{% ifnotequal page_obj.next_page_number|add:"1" paginator.num_pages %}
			   				<a class="page-link" href="?page={{ page_obj.next_page_number|add:"2" }}">
			   				{{ page_obj.next_page_number|add:"2" }}</a>
			   			{% endifnotequal %}
			   			{% ifnotequal page_obj.next_page_number|add:"2" paginator.num_pages %}
				   			<a class="page-link" href="?page={{ page_obj.next_page_number|add:"3" }}">
				   			{{ page_obj.next_page_number|add:"3" }}</a>
			    		{% endifnotequal %}
			   		{% endifequal %}
		   		{% endifequal %}
		{% endifnotequal %}
		<a class="page-link" href="?page={{ page_obj.next_page_number }}">&rarr;</a>
	{% endif %}
</div>